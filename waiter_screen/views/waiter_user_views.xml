<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Waiter User Form View -->
    <record id="view_users_form_waiter" model="ir.ui.view">
        <field name="name">res.users.form.waiter</field>
        <field name="model">res.users</field>
        <field name="inherit_id" ref="base.view_users_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='login']" position="after">
                <field name="is_waiter" invisible="1"/>
                <field name="waiter_pin" password="True"/>
                <field name="waiter_employee_number"/>
            </xpath>
        </field>
    </record>

    <!-- Waiter List View -->
    <record id="view_waiter_users_tree" model="ir.ui.view">
        <field name="name">waiter.users.tree</field>
        <field name="model">res.users</field>
        <field name="arch" type="xml">
            <list string="Waiters">
                <field name="name"/>
                <field name="login"/>
                <field name="waiter_employee_number"/>
                <field name="active"/>
            </list>
        </field>
    </record>

    <!-- Waiter Users Action -->
    <record id="action_waiter_users" model="ir.actions.act_window">
        <field name="name">Waiters</field>
        <field name="res_model">res.users</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('is_waiter', '=', True)]</field>
        <field name="context">{'default_is_waiter': True}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first waiter
            </p>
            <p>
                Waiters can use the waiter screen to take orders and process payments.
            </p>
        </field>
    </record>

    <!-- Menu Item -->
    <menuitem
        id="menu_waiter_users"
        name="Waiters"
        parent="point_of_sale.menu_point_root"
        action="action_waiter_users"
        sequence="50"
        groups="point_of_sale.group_pos_manager"/>
</odoo>
